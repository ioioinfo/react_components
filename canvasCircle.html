<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>让圆动起来</title>
    <style media="screen">
      .circle{
        margin-top: 170px;
        text-align: center;
      }
      #canvas{
        border: 1px solid red;
      }
    </style>
  </head>
  <body>
    <div class="circle">
      <canvas id="canvas" width="300" height="300"></canvas>
    </div>

    <script type="text/javascript">
      var canvas = document.getElementById('canvas');
      var ctx = canvas.getContext('2d');
      var width = canvas.width;
      var height = canvas.height;
      var r = width / 2;

      function drawCircle(){
        ctx.save();
        ctx.translate(r,r);
        ctx.lineWidth = 10;
        ctx.beginPath();
        ctx.arc(0, 0, r - 5, 0, 2 * Math.PI, false);
        ctx.stroke();
      }

      function drawDot(second){
        ctx.save();
        ctx.beginPath();
        ctx.fillStyle = "#c14543"
        var rad = 2 * Math.PI / 60 * second;
        ctx.rotate(rad);
        ctx.moveTo(-2 , 20);
        ctx.lineTo(2 , 20);
        ctx.lineTo(1 , -r + 18);
        ctx.lineTo(-1 , -r + 18);
        ctx.fill();
        ctx.restore();
      }

      function draw(){
        ctx.clearRect(0, 0, width, height);
        var now = new Date();
        var second = now.getSeconds();
        drawCircle();
        drawDot(second);
        ctx.restore();
      }
      draw();
      setInterval(draw , 1000);
    </script>
  </body>
</html>
